sh_code_gen